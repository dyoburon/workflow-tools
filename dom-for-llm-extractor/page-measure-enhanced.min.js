!function(){if(document.getElementById("page-measure-overlay"))return void document.getElementById("page-measure-overlay").remove();let t,e,n;const o=window.innerWidth,i=window.innerHeight,s=document.createElement("div");function l(t,e=2e3){const n=document.createElement("div");Object.assign(n.style,{position:"fixed",top:"20px",right:"20px",background:"#333",color:"#fff",padding:"16px 24px",borderRadius:"8px",fontSize:"13px",fontFamily:"monospace",zIndex:"2147483647",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",maxWidth:"400px",whiteSpace:"pre-wrap",lineHeight:"1.4"}),n.textContent=t,document.body.appendChild(n),setTimeout(()=>n.remove(),e)}function r(t){let e=t.tagName.toLowerCase();if(t.id&&(e+="#"+t.id),t.className&&"string"==typeof t.className){const n=t.className.trim().split(/\s+/).filter(t=>t&&!t.includes(":"));n.length>0&&(e+="."+n.slice(0,3).join("."))}return e}function a(t){const e=(t.textContent||"").replace(/\s+/g," ").trim();return e.length>60?e.substring(0,60)+"...":e}function c(t,e){const n=[],s=(t.left/o*100).toFixed(1),l=(t.top/i*100).toFixed(1),c=((t.right-t.left)/o*100).toFixed(1),d=((t.bottom-t.top)/i*100).toFixed(1);if(n.push("SELECTION"),n.push(`Position: ${s}% left, ${l}% top`),n.push(`Size: ${c}% x ${d}%`),n.push(""),0===e.length)n.push("No elements found in selection");else{const t=e[0];n.push("PRIMARY ELEMENT"),n.push(`Tag: ${r(t.el)}`);const o=a(t.el);o&&n.push(`Text: "${o}"`),n.push(`Selector: ${function(t){if(t.id)return"#"+t.id;let e=[];for(;t&&t.nodeType===Node.ELEMENT_NODE;){let n=t.tagName.toLowerCase();if(t.id){n="#"+t.id,e.unshift(n);break}if(t.className&&"string"==typeof t.className){const e=t.className.trim().split(/\s+/).filter(t=>t&&!t.includes(":"));e.length>0&&(n+="."+e.slice(0,2).join("."))}e.unshift(n),t=t.parentElement}return e.slice(-4).join(" > ")}(t.el)}`);const i=function(t){const e=t.offsetParent||t.parentElement;if(!e)return null;const n=t.getBoundingClientRect(),o=e.getBoundingClientRect();return{left:((n.left-o.left)/o.width*100).toFixed(1),top:((n.top-o.top)/o.height*100).toFixed(1),parentSelector:r(e)}}(t.el);if(i&&n.push(`In parent (${i.parentSelector}): ${i.left}% left, ${i.top}% top`),e.length>1){n.push(""),n.push(`OTHER ELEMENTS (${e.length-1}):`);for(let t=1;t<Math.min(e.length,6);t++){const o=e[t],i=a(o.el),s=i?` "${i.substring(0,30)}${i.length>30?"...":""}"`:"";n.push(`- ${r(o.el)}${s}`)}e.length>6&&n.push(`  ... and ${e.length-6} more`)}}return n.join("\n")}s.id="page-measure-overlay",Object.assign(s.style,{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",cursor:"crosshair",zIndex:"2147483647",background:"transparent"}),s.addEventListener("mousedown",function(o){t=o.clientX,e=o.clientY,n=document.createElement("div"),Object.assign(n.style,{position:"fixed",border:"2px solid #0066ff",background:"rgba(0, 102, 255, 0.1)",pointerEvents:"none",zIndex:"2147483647"}),s.appendChild(n),n.style.left=t+"px",n.style.top=e+"px",n.style.width="0",n.style.height="0"}),s.addEventListener("mousemove",function(o){if(!n)return;const i=Math.min(t,o.clientX),s=Math.min(e,o.clientY),l=Math.abs(o.clientX-t),r=Math.abs(o.clientY-e);Object.assign(n.style,{left:i+"px",top:s+"px",width:l+"px",height:r+"px"})}),s.addEventListener("mouseup",function(o){if(!n)return;const i={left:Math.min(t,o.clientX),top:Math.min(e,o.clientY),right:Math.max(t,o.clientX),bottom:Math.max(e,o.clientY)};s.style.display="none";const r=function(t){const e=[],o=new Set;for(let i=t.left;i<=t.right;i+=10)for(let l=t.top;l<=t.bottom;l+=10){const r=document.elementsFromPoint(i,l);for(const i of r){if(i===s||i===n||i===document.body||i===document.documentElement)continue;if(o.has(i))continue;o.add(i);const l=i.getBoundingClientRect(),r=Math.max(t.left,l.left),a=Math.min(t.right,l.right),c=Math.max(t.top,l.top),d=Math.min(t.bottom,l.bottom);if(a>r&&d>c){const t=(a-r)*(d-c),n=l.width*l.height,o=n>0?t/n:0;o>.3&&e.push({el:i,rect:l,area:n,coverage:o})}}}return e.sort((t,e)=>t.area-e.area),e}(i);s.style.display="block";const a=c(i,r);navigator.clipboard.writeText(a).then(()=>l("Copied!\n\n"+a.substring(0,200)+(a.length>200?"...":""),3e3)).catch(()=>l("Failed to copy")),s.remove()}),document.addEventListener("keydown",t=>{"Escape"===t.key&&s.remove()}),document.body.appendChild(s)}();